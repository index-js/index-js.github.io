[{"title":"JS原生获取农历新写法","url":"/2021/10/25/js-date-lunar/","content":"```js\nvar timestamp = new Date('2020-01-01').getTime()\nnew Intl.DateTimeFormat('zh-u-ca-chinese', { dateStyle: 'full' }).format(timestamp)\n// '2019己亥年腊月初七星期三'\nnew Intl.DateTimeFormat('zh-u-ca-chinese', { dateStyle: 'long' }).format(timestamp)\n// '2019己亥年腊月初七'\nnew Intl.DateTimeFormat('zh-u-ca-chinese', { dateStyle: 'medium' }).format(timestamp)\n// '2019年腊月初七'\nnew Intl.DateTimeFormat('zh-u-ca-chinese', { dateStyle: 'short' }).format(timestamp)\n// '2019/12/7'\n```\n更多用法查看[MDN WEB](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat)\n","tags":["JavaScript"]},{"title":"wx.login获取session_key失败","url":"/2021/09/19/wx-login-error/","content":"新用户直接授权，然后wx.login()获取js_code，后端接口会报错  \n```js\n{ errcode: 40029, errmsg: 'invalid code, hints: [ req_id: 1iiCP0yFe-KWV ]' }\n```\n\n## 解决办法\n1. bindgetuserinfo之前，需要先调用一下wx.login()，确定session_key\n1. bindgetuserinfo回调里面，调用wx.login()，然后通过wx.getUserInfo()获取和回调一样的信息\n","tags":["JavaScript","前端","小程序"]},{"title":"H5地图选点组件，不用开发直接跳转调用","url":"/2021/09/15/mobile-map-picker/","content":"[腾讯地图-地图选点组件](https://lbs.qq.com/webApi/component/componentGuide/componentPicker)  \n[高德地图-选址组件](https://lbs.amap.com/api/lightmap/guide/picker/)\n","tags":["JavaScript","前端","H5"]},{"title":"iOS机型new Date问题","url":"/2021/09/02/ios-date-bug/","content":"> 在iOS下，new Date('2020-02-02 01:01')这种格式，会返回Invalid Date\n\n## 解决办法\n\n1. 替换为年/月/日 时-分-秒格式，兼容其它PC和手机浏览器，如new Date('2020/02/02 01:01')\n1. 替换中间空格为字母T，也是兼容的，如new Date('2020-02-02T01:01')\n\n注意new Date('2020/02/02T01:01')也为Invalid Date，混用🙅‍♀️\n","tags":["JavaScript","前端"]},{"title":"前端工具网站","url":"/2021/08/24/tool-web/","content":"## 基础\n[Can I use，兼容性自查工具](https://www.caniuse.com/)  \n[MDN，JavaScript文档](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)  \n[菜鸟教程](https://www.runoob.com/html/html5-intro.html)  \n[Iconfront图标](https://www.iconfont.cn/)\n\n## Vue相关\n[ElementUI，管理端UI](https://element.eleme.cn/#/zh-CN/component/installatio)  \n[VantUI，移动端和小程序UI](https://vant-contrib.gitee.io/vant/#/zh-CN/)\n\n## 小程序相关\n[Uniapp框架](https://uniapp.dcloud.io/)  \n[Mpvue框架](http://mpvue.com/)\n[Wepy框架](https://wepyjs.gitee.io/wepy-docs/2.x/#/)\n","tags":["JavaScript","前端"]},{"title":"JavaScript千分位","url":"/2021/08/24/thousand-digit/","content":"\n## 正则千分位\n```js\n'1234567890.012345'.replace(/\\B(?=(\\d{3})+(\\.|$))/g, ',')\n\"1,234,567,890.012,345\"\n// 此处有个小问题，小数位大于3，也会加上分隔符\n```\n\n## ES函数，JS原生方法\n[Number.toLocaleString()，详见MDN Web](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString)\n```js\nNumber('1234567890.012345').toLocaleString()\n\"1,234,567,890.012\"\n\n// 有些浏览器默认最大3个小数位，解决办法是maximumFractionDigits(取值0-20)\nNumber('1234567890.012345').toLocaleString(undefined, { maximumFractionDigits: 10 })\n\"1,234,567,890.012345\"\n```\n","tags":["JavaScript"]},{"title":"编程规范(个人见解)","url":"/2019/09/04/coding-spec/","content":"现实中，因为工作原因，见过很多人的代码，感触良多\n\n现在编码，基本都是复制党，导致很多编程问题。\n\n我的看法是，即使代码思路不好，代码格式应该要处理好，这样至少看起来舒服一点\n\n## 错误示范\n\n### ❌ 多余代码直接去掉，不要注释\n影响美观，还占空间，既然是多余的，就没有必要保留。\n\n这里指的开始拉进来，后面又没用的代码。\n\n说明注释、示例注释倒是越多越好，格式也是需要规范，多行注释和单行注释也是不同的。\n\n### ❌ 不要顺便加上打印Console\n这个在前端很常见，也是多余需要去掉的。\n\n调试的时候测试可理解，可是用完之后就应该去掉了，更高级的用法是打断点调试。\n\n## 正确示范\n\n### 👍 代码简洁高效\n命名、格式、简化、注释\n\n适当空格和换行也是一门技术活\n\n### 👍 文件拆分和模块复用\n复用不仅包含函数，前端组件也是需要单独拎出来，这样好处多多\n\n### 👍 应用新的技术和框架，提高效率\n如ES6、ES7，直接改变写法风格\n","tags":["Coding","编程"]},{"title":"Callback，Promise，Async","url":"/2019/09/04/callback-promise-async/","content":"\n## Callback - 回调函数\n```js\n// 假设存在A，B两个函数，有先后顺序\nA = () => {}\nB = () => {} \n\n// 正常情况下，顺序执行即可\nA()  // A执行\nB()  // B执行\n\n// 当A为异步函数(JavaScript很常见，网上一大堆例子)\n// 如果想顺序执行，设C为两个函数共同体\nC(B) => {\n  A()  // A的内容体\n  B()  // 最后执行B\n}\n\n// 把函数B当做一个变量，当A全部执行完毕，才执行函数B\n// 这个就是回调函数\nC = A() => B()\n```\n\n## Promise\nPromise是一种函数体，原型链包含then和catch\n```js\n// A、B函数想要顺序执行，先把A函数Promisify，封装成一个Promise\n\n// 设D为A的Promise化的函数\nD = new Promise((resolve, reject) => {\n  A()\n  resolve()  // 执行完毕，退出\n  reject()  // 出错\n})\n\n// 当A函数执行完之后，再执行B，语义化也很好理解\nD().then(B).catch()\n```\n\n## Async\nAsync和await是联合起来使用的，基于Promise\n```js\nA = async () => {}\nB = async () => {}\n\n// 这里的A和B都是Promise\n// 顺序执行，只需\n(async () => {\n  await A()\n  await B()\n  return true  // 可以直接return\n})\n// 这里有个问题就是，如果内容函数使用了async，外部函数也必须使用async或者promise，否则会接收不到返回值\n```\n\n## 结语\n本文基于作者熟悉的内容编写，未包含yield\n\nJavaScript的这三种形态变化，其实都是语法糖，内容都是基于事件回调，因为JavaScript是单线程的\n","tags":["JavaScript"]},{"title":"服务器部署，Docker & Vsftpd","url":"/2019/09/02/server-deploy/","content":"\n## Docker & Docker-Compose\n```sh\n# 下载Docker\ncurl -fsSL https://get.docker.com/ | sh\n# 下载最新Docker-Compose\ncurl -L https://github.com/docker/compose/releases/latest/download/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose\n# 创建目录\nmkdir -p /home/docker\n# 安装nginx / mysql / node / phpmyadmin\n```\n\n## Vsftpd\n\n1. apt update\n1. apt install -y vsftpd\n1. Append to /etc/vsftp.conf\n1. Add User\n1. chomd -R 777 /home/docker/nginx/html\n\n```sh\n# 设置ftp用户密码\n$ useradd -m uftp\n$ passwd uftp\n```\n```sh\n# 修改配置文件\nwrite_enable=YES\n\nuserlist_file=/etc/vsftpd.user_list\nuserlist_enable=YES\nuserlist_deny=NO\n\npasv_promiscuous=YES\npasv_address=0.0.0.0\nlocal_root=/home/docker/nginx/html\n```\n","tags":["Docker","Ubuntu","FTP","Docker Compose"]},{"title":"VMware安装XP系统(附激活方法)","url":"/2019/07/22/vmware-install-windows/","content":"> 参考网站\n\n[在vmware里面免费安装纯净的xp虚拟机](https://www.cnblogs.com/mylinux/p/5488991.html)\n\n\n## 操作流程\n1. 安装VMware\n1. 下载Windows镜像包\n1. 在VM中安装，提示输入密钥时，直接忽略然后下一步\n1. [XP激活码](http://www.windows7en.com/xp/3374.html)\n","tags":["VMware","Windows"]},{"title":"MySQL备份","url":"/2019/07/18/mysql-backup/","content":"### 导出备份\nmysqldump -u{root} -p{password} {database_name} > backup.sql\n```sh\n--opt 默认\n--default-character-set=utf8mb4 默认格式\n-C 传输压缩\n--skip-disable-keys 避免导入重置自增ID\n--single-transaction 避免锁表\n--triggers 备份触发器\n```\n\n### 备份恢复\nmysql -h{host} -P{port} -u{root} -p{password} -C < backup.sql\n\n### 在Docker容器外执行\ndocker exec -i {container_name} mysql/mysqldump ...\n","tags":["Docker","MySQL"]},{"title":"太平洋车险理赔材料","url":"/2018/11/11/cpic-data/","content":"带车牌整车照片，受损部位远近照片 ，车架号，行驶证，驾驶证，车主身份证银行卡  \n碰撞物远近照片，环境照片\n","tags":["太平洋保险","CPIC"]},{"title":"Ubuntu使用Docker","url":"/2018/11/07/docker-in-ubuntu/","content":"> 参考网站\n\n[Docker Hub，Docker容器平台](https://hub.docker.com/)  \n[Docker Practice，Dockerfile最佳实践](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/)  \n\n## Shell安装\nhttps://get.docker.com/\n```sh\n# This script is meant for quick & easy install via:\n$ curl -fsSL get.docker.com -o get-docker.sh\n$ sh get-docker.sh\n```\n\n## 常用命令\n帮助: &nbsp; &nbsp;docker [command] --help \n\n### 镜像\n查看镜像：docker images  \n查看容器：docker ps [-a]  \n拉取镜像：docker pull  \n\n### Dockerfile相关\n创建镜像：docker build -t [ContainerName] .  \n镜像发布：docker login + docker push\n\n### 删除操作\n删除容器：docker rm [-f]  \n删除镜像：docker rmi [-f]  \n删除卷：&nbsp; docker volume rm [-f]  \n\n```sh\n# Delete all containers\n$ docker rm $(docker ps -a -q)\n# Delete all images\n$ docker rmi $(docker images -q)\n# Delete all volumes\n$ docker volume rm $(docker volume ls -q)\n```\n\n### 查看状态、清理\n```sh\n$ docker system df\n$ docker system prune [-a]\n```\n\n### 示例 - MySQL\n```sh\n$ docker pull mysql:5.7\n# docker images查看\ndocker run --name=mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=${PASSWORD} -d mysql:5.7\n# docker ps检查\n\n# 进入容器执行命令\ndocker exec -it mysql sh\n\n# 开启远程授权\n# grant all privileges on 库名.表名 to '用户名'@'IP地址' identified by '密码' with grant option;\n# flush privileges;\n\n> mysql -uroot -p${PASSWORD}\n> grant all privileges on *.* to 'root'@'%' identified by '${PASSWORD}' with grant option;\n> flush privileges;\n> exit;\n```\n","tags":["Docker","Ubuntu","MySQL"]},{"title":"论游戏对心智的影响","url":"/2018/08/21/game-affect-mind/","content":"> 本文主要谈谈游戏对小孩子心智的影响\n\n不怎么打游戏的我，最近对游戏有点上瘾。一个常见的情况就是玩游戏的小孩子越来越多，我觉得游戏对他们的心智有不好的影响，特别是现在流行的一些大型手游。现在不说手机对他们眼睛的物理伤害，就谈谈游戏对他们心智的影响。\n\n这要从玩吃鸡《绝地求生》手游开始说起，游戏场景就不多介绍了，毕竟不是推销游戏，而且腾讯的游戏也不用我们推销。在游戏过程中，有一次见到队友互相攻击，还一直说要把队友炸死，这是一个小孩子的声音(游戏中没有需要必须伤害队友的规定)。还有一次，一个熟人，不知道是玩的次数多了，还是怎么了，在队友受伤的情况下，不仅不救，还去伤害，虽然最后还是救了，我也遇到过这种队友。还有一例，就是我自己，在游戏开场等待时间，老是去攻击别人。\n\n上述3种行为，在游戏中并没有不符合规则，还有游戏本来就具有攻击性，而且可能也是半开玩笑的玩法。可是注意一下，在现实中，这种事是完全不能允许的。如果小孩子对这种事接触太多，必然对他们心智造成潜移默化的影响。人之初，性本善，人还是应该从善良的心开始，在心智尚未成熟以前，少接触一些暴力因素。\n\n总之，建议还是不要让小孩子玩游戏，少玩手机，这对他们有益无害。因为玩手机会上瘾，玩游戏也会上瘾。\n\n以上，是我自己的想法，如有雷同，纯属巧合。如果对我的看法有什么不同的想法，可以与我讨论。\n","tags":["游戏","Game"]},{"title":"第一篇文章-测试","url":"/2018/03/14/hello-world/","content":"内容\n"}]